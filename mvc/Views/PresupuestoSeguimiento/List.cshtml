@model mvc.ViewModels.SeguimientoPageViewModel
@{
    ViewBag.Title = "Seguimiento";
    Layout = null;
}

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h3 class="modal-title" id="title">Seguimiento</h3>
</div>
<div class="modal-body">
    <div class="grid-layout">
        <div class="grid-row">
            <div class="grid-col-6">
                <div class="ez_form_group">
                    <div class="ez_form_col">
                    </div>
                    <div class="ez_form_col">
                    </div>
                </div>
            </div>
            <div class="grid-col-6"></div>
        </div>
        <div class="grid-row">
            <div class="grid-col-12">
                <div class="ez_form_group">
                    <div class="ez_form_col">
                        <div id="seguimientoListContainer">
                            <table id="seguimientoezGrid"></table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <button type="button" data-dismiss="modal">Cerrar</button>
</div>
<script src="~/Scripts/ezutils/ezgridjs.js"></script>
    @section styles {
        @Styles.Render("~/Content/css/ezgrid")
    }
    @section Scripts
{
<script type="text/javascript">
        $(function () {

            var $grid = $("#seguimientoezGrid").ezGrid({
                dataSource: "@Url.Action("GetSeguimiento", "PresupuestoSeguimiento",@Model.PresupuestoId)",
                dataKey: "Id",
                params: {
                    filterBy: "@Model.FilterByString"
                },
                defaultParams: {
                    sortBy: "sortBy",
                    direction: "direction",
                    page: "page",
                    limit: "pageSize"
                },
                mapping: {
                    dataField: "Records",
                    totalRecordsField: "Total"
                },
                columns: [
                    { field: "Id", hidden: true },
                    { field: "Fecha", title: "Fecha", sortable: true },
                    { field: "Estado", title: "Estado", sortable: true },
                    { field: "FechaAlerta", title: "FechaAlerta", sortable: true },
                    { field: "Observacion", title: "Observacion", sortable: true }
                ],
                pager: { enable: true, limit: 10, sizes: [2, 5, 10, 20,50] },
                rowNum: 15,
                rowList: [15, 50, 100]
            });
        });
</script>
    }
